/* http://james.padolsey.com/javascript/special-scroll-events-for-jquery/ */
(function(){var b=jQuery.event.special,f=["DOMMouseScroll","mousewheel"];b.scrollstart={guid:"D"+ +new Date,_settings:{latency:300,evt_type:"scrollstart"},setup:function(a){var e=$.extend({},b.scrollstart._settings,a||{}),d;a=function(a){var g=arguments;d?clearTimeout(d):(a.type=e.evt_type,(jQuery.event.dispatch||jQuery.event.handle).apply(this,g));d=setTimeout(function(){d=null},e.latency)};jQuery(this).bind("scroll",a).data(b.scrollstart.guid,a)},teardown:function(){jQuery(this).unbind("scroll",
jQuery(this).data(b.scrollstart.guid))}};b.mouseoverstop={guid:"D"+2*+new Date,_settings:{latency:600,evt_type:"mouseoverstop"},setup:function(a){var e,d=$.extend({},b.mouseoverstop._settings,a||{});a=function(a){var b=this,c=arguments;e&&clearTimeout(e);e=setTimeout(function(){e=null;a.type=d.evt_type;(jQuery.event.dispatch||jQuery.event.handle).apply(b,c)},d.latency)};var c=function(){e&&clearTimeout(e)};jQuery(this).bind("mouseover",a).data(b.mouseoverstop.guid,a);jQuery(this).bind("mouseout",
c).data(b.mouseoverstop.guid+"2",c)},teardown:function(){jQuery(this).unbind("mouseover",jQuery(this).data(b.mouseoverstop.guid));jQuery(this).unbind("mouseout",jQuery(this).data(b.mouseoverstop.guid+"2"))}};b.scrollstop={guid:"D"+3*+new Date,_settings:{latency:300,evt_type:"scrollstop"},_debug:function(){},setup:function(a,e,d){b.scrollstop._debug("setup ->",arguments);var c=$.extend({},b.scrollstop._settings,a||{}),g,l=function(a){var b=this,e=arguments;g&&clearTimeout(g);g=setTimeout(function(){g=
null;a.type=c.evt_type;(jQuery.event.dispatch||jQuery.event.handle).apply(b,e)},c.latency)};jQuery(this).bind("scroll",l).data(b.scrollstop.guid,l)},teardown:function(a){b.scrollstop._debug("teardown ->",arguments);jQuery(this).unbind("scroll",jQuery(this).data(b.scrollstop.guid))},add:function(a){b.scrollstop._debug("add ->",arguments)},remove:function(a){b.scrollstop._debug("remove ->",arguments)}};if(jQuery.event.fixHooks)for(var k=f.length;k;)jQuery.event.fixHooks[f[--k]]=jQuery.event.mouseHooks;
b.mousewheel={guid:"D"+4*+new Date,_settings:{evt_type:"mousewheel"},setup:function(a){var e=$.extend({},b.mousewheel._settings,a||{});a=function(a){var b=a||window.event,d=[].slice.call(arguments,1),h=0,f=0,j=0;a=jQuery.event.fix(b);a.type=e.evt_type;b.wheelDelta&&(h=b.wheelDelta/120);b.detail&&(h=-b.detail/3);j=h;void 0!==b.axis&&b.axis===b.HORIZONTAL_AXIS&&(j=0,f=-1*h);void 0!==b.wheelDeltaY&&(j=b.wheelDeltaY/120);void 0!==b.wheelDeltaX&&(f=-1*b.wheelDeltaX/120);d.unshift(a,h,f,j);return(jQuery.event.dispatch||
jQuery.event.handle).apply(this,d)};if(this.addEventListener)for(var d=f.length;d;)this.addEventListener(f[--d],a,!1);else this.onmousewheel=a;jQuery(this).data(b.mousewheel.guid,a)},teardown:function(){if(this.removeEventListener)for(var a=f.length;a;)this.removeEventListener(f[--a],jQuery(this).data(b.mousewheel.guid),!1);else this.onmousewheel=null}};b.mousewheelactivity={guid:"D"+5*+new Date,_settings:{event_type:{start:"start",stop:"stop",_default:"mousewheel"},latency:1E3,mouseover:!1},setup:function(a){var e,
d=$.extend({},b.mousewheelactivity._settings,a||{});a=function(){return d.mouseover?jQuery(this).trigger("mousewheel"):this};var c=function(a){var b=this,c,f=arguments;e?clearTimeout(e):(a.type="mousewheelactivity",c=[a,d.event_type.start],(jQuery.event.dispatch||jQuery.event.handle).apply(b,c));e=setTimeout(function(){e=null;a.type="mousewheelactivity";c=[a,d.event_type.stop];(jQuery.event.dispatch||jQuery.event.handle).apply(b,c)},d.latency);"object"==typeof a&&("mousewheel"==a.type&&4==f.length)&&
(a.type="mousewheelactivity",c=[].slice.call(arguments,1),c.unshift(a,d.event_type._default),(jQuery.event.dispatch||jQuery.event.handle).apply(b,c))};jQuery(this).bind("mousewheel",c).data(b.mousewheelactivity.guid,c);jQuery(this).bind("mouseover",a).data(b.mousewheelactivity.guid+"2",a)},teardown:function(){jQuery(this).unbind("mouseover",jQuery(this).data(b.mousewheelactivity.guid+"2"));jQuery(this).unbind("mousewheel",jQuery(this).data(b.mousewheelactivity.guid))}};jQuery.fn.extend({mousewheel:function(a,
b){return a?this.bind("mousewheel",b||{},a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)},scrollstop:function(a,b){return a?this.bind("scrollstop",b||{},a):this.trigger("scrollstop")},unscrollstop:function(a){return this.unbind("scrollstop",a)},scrollstart:function(a,b){return a?this.bind("scrollstart",b||{},a):this.trigger("scrollstart")},unscrollstart:function(a){return this.unbind("scrollstart",a)},mouseoverstop:function(a,b){return a?this.bind("mouseoverstop",
b||{},a):this.trigger("mouseoverstop")},unmouseoverstop:function(a){return this.unbind("mouseoverstop",a)},mousewheelactivity:function(a,b){return a?this.bind("mousewheelactivity",b||{},a):this.trigger("mousewheelactivity")},unmousewheelactivity:function(a){return this.unbind("mousewheelactivity",a)},mouseactivity:function(a,b,d,c){if(!$.isFunction(b))return this;c=!c||""==c?"__mouseactivity":c;var f=(a||"").split(",");a=function(a,c,d,j,k){var m=arguments;-1!=$.inArray(c,f)&&b.apply(this,m)};return this.bind("mousewheelactivity",
d||{},a).data(c,a)},unmouseactivity:function(a){a=!a||""==a?"__mouseactivity":a;return this.unmousewheelactivity(this.data(a)).removeData(a)}})})();